<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="爱凉拌菜真是太好了的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="爱凉拌菜真是太好了">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="爱凉拌菜真是太好了">
<meta property="og:description" content="爱凉拌菜真是太好了的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="爱凉拌菜真是太好了">
<meta name="twitter:description" content="爱凉拌菜真是太好了的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> 爱凉拌菜真是太好了 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">爱凉拌菜真是太好了</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/01/react-router-V4-踩坑/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/08/01/react-router-V4-踩坑/" itemprop="url">
                  react-router V4 踩坑
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-01T10:59:12+08:00">
                2017-08-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[TOC]</p>
<h3 id="The-prop-history-is-marked-as-required-in-Router-…"><a href="#The-prop-history-is-marked-as-required-in-Router-…" class="headerlink" title="The prop `history` is marked as required in `Router` …"></a>The prop `history` is marked as required in `Router` …</h3><pre style="color:red">The prop `history` is marked as required in `Router`, but its value is `undefined`. in Router</pre>
出现这个报错是因为我用npm 安装的是react-router v4，react-router v4不再使用`<router history="{hashHistory}">` 这种方式定义history 实现类型。而是直接通过组件如BrowserRouter,HashRouter等
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;Router history=&#123;hashHistory&#125;&gt;</div><div class="line">  &lt;Route path="/" component=&#123;Main&#125;&gt;&lt;/Route&gt;</div><div class="line">&lt;/Router&gt;</div><div class="line"></div><div class="line">===&gt;</div><div class="line"></div><div class="line">&lt;BrowserRouter&gt;</div><div class="line">  &lt;Route path="/" component=&#123;Main&#125;&gt;&lt;/Route&gt;</div><div class="line">&lt;/BrowserRouter&gt;</div><div class="line"></div><div class="line">或者</div><div class="line"></div><div class="line"></div><div class="line">&lt;HashRouter&gt;</div><div class="line">  &lt;Route path="/" component=&#123;Main&#125;&gt;&lt;/Route&gt;</div><div class="line">&lt;/HashRouter&gt;</div></pre></td></tr></table></figure>

###  A 'Router' may have only one child element

react-router v4 在<router> 下面只能放一个层级，类似与react 中render 不能有两个平级div一样

#### 解决办法：

用div 或者[Switch](https://reacttraining.com/react-router/web/api/Switch) 包裹所有Route
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;Router&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;Route component=&#123;ComponentHeader&#125;&gt;&lt;/Route&gt;</div><div class="line">    &lt;Switch&gt;</div><div class="line">      &lt;Route component=&#123;ComponentFooter&#125; path='/footer/:id'&gt;&lt;/Route&gt;</div><div class="line">    &lt;/Switch&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;<span class="regexp">/Router&gt;</span></div></pre></td></tr></table></figure>

### webpack 配置问题

v4 中引入`<browserrouter>` 组件, 而BrowserRouter使用的是HTML5 的history api, 在使用webpack-dev-server时会遇到

<pre style="colo:red">GET http://localhost:8080/xxx/xxx 404 (Not Found)</pre>

<h4 id="解决办法："><a href="#解决办法：" class="headerlink" title="解决办法："></a>解决办法：</h4><p>webpack.config.js中加入<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">devServer: &#123;</div><div class="line">  <span class="attr">apiHistoryFallback</span>: <span class="literal">true</span>,</div><div class="line">&#125;</div><div class="line">output: &#123;</div><div class="line">  ...,</div><div class="line">  <span class="attr">publicPath</span>: <span class="string">'/'</span>,</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后将index.html中的bundle.js改为/bundle.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=<span class="string">'bundle.js'</span>&gt;&lt;/script&gt; ===&gt; &lt;script src='/bundle.js'&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>参考：<a href="https://stackoverflow.com/questions/43209666/react-router-v4-cannot-get-url" target="_blank" rel="external">https://stackoverflow.com/questions/43209666/react-router-v4-cannot-get-url</a></p>
</browserrouter></router></router>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/30/webpack-css-modules-和global-css-共存/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/30/webpack-css-modules-和global-css-共存/" itemprop="url">
                  webpack css-modules 和global css 共存
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-30T17:29:14+08:00">
                2017-07-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在使用ant design 时候遇到ant design css 和自定义的css 冲突的问题。<br>./node_modules/ 中ant desing 的css 文件作为全局的css 和 自定义的css_modules 会发生冲突。解决办法是将/node_modules/中的css与自定义的css 分开处理。即对css_modules使用<code>exclude:/node_modules/</code>，对node_modules中的css使用<code>include:path.resolve(__dirname,&#39;node_modules&#39;)</code></p>
<p>最开始定义的webpack.config.js 的处理方式：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">context</span>: __dirname+<span class="string">'/src'</span>,</div><div class="line">  <span class="attr">entry</span>: <span class="string">"./js/index.js"</span>,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">rules</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js?$/</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules)/</span>,</div><div class="line">        <span class="attr">use</span>: &#123;</div><div class="line">          <span class="attr">loader</span>: <span class="string">'babel-loader'</span>,</div><div class="line">          <span class="attr">options</span>: &#123;</div><div class="line">            <span class="attr">presets</span>: [<span class="string">'react'</span>,<span class="string">'es2015'</span>],</div><div class="line">            <span class="comment">// ant design  babel-plugin-import</span></div><div class="line">            plugins: [[<span class="string">'import'</span>,&#123;<span class="string">'libraryName'</span>:<span class="string">'antd'</span>,<span class="string">'style'</span>:<span class="string">'css'</span>&#125;]]</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules)/</span>,</div><div class="line">        <span class="attr">use</span>: [</div><div class="line">          &#123;<span class="attr">loader</span>:<span class="string">'style-loader'</span>&#125;,</div><div class="line">          &#123;</div><div class="line">            <span class="attr">loader</span>: <span class="string">'css-loader'</span>,</div><div class="line">            <span class="attr">options</span>: &#123;</div><div class="line">              <span class="attr">modules</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">loacalIdentName</span>: <span class="string">'[name]__[local]_[hash:base64:5]'</span>,</div><div class="line">              <span class="attr">sourceMap</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">importLoaders</span>: <span class="number">1</span></div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;,  </div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: __dirname+<span class="string">'/src'</span>,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>报错：</p>
<blockquote>
<p>ERROR in ./node_modules/antd/lib/button/style/index.css<br>Module parse failed: /home/johnny/Project/react/demo3/node_modules/antd/lib/button/style/index.css Unexpected token (1:0)<br>You may need an appropriate loader to handle this file type.</p>
</blockquote>
<p>找到解决办法是，分别处理node_modules(ant design)中的css和css_modules：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">context</span>: __dirname+<span class="string">'/src'</span>,</div><div class="line">  <span class="attr">entry</span>: <span class="string">"./js/index.js"</span>,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">rules</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js?$/</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules)/</span>,</div><div class="line">        <span class="attr">use</span>: &#123;</div><div class="line">          <span class="attr">loader</span>: <span class="string">'babel-loader'</span>,</div><div class="line">          <span class="attr">options</span>: &#123;</div><div class="line">            <span class="attr">presets</span>: [<span class="string">'react'</span>,<span class="string">'es2015'</span>],</div><div class="line">            <span class="attr">plugins</span>: [[<span class="string">'import'</span>,&#123;<span class="string">'libraryName'</span>:<span class="string">'antd'</span>,<span class="string">'style'</span>:<span class="string">'css'</span>&#125;]]</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      <span class="comment">// css_modules 处理方式</span></div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules)/</span>,</div><div class="line">        <span class="attr">use</span>: [</div><div class="line">          &#123;<span class="attr">loader</span>:<span class="string">'style-loader'</span>&#125;,</div><div class="line">          &#123;</div><div class="line">            <span class="attr">loader</span>: <span class="string">'css-loader'</span>,</div><div class="line">            <span class="attr">options</span>: &#123;</div><div class="line">              <span class="attr">modules</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">loacalIdentName</span>: <span class="string">'[name]__[local]_[hash:base64:5]'</span>,</div><div class="line">              <span class="attr">sourceMap</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">importLoaders</span>: <span class="number">1</span></div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;,</div><div class="line">      <span class="comment">// ant design 处理方式</span></div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</div><div class="line">        <span class="attr">include</span>: path.resolve(__dirname, <span class="string">'node_modules'</span>),</div><div class="line">        <span class="attr">use</span>: [</div><div class="line">          &#123;<span class="attr">loader</span>:<span class="string">'style-loader'</span>&#125;,</div><div class="line">          &#123;</div><div class="line">            <span class="attr">loader</span>:<span class="string">'css-loader'</span>,</div><div class="line">          &#125;</div><div class="line">        ]</div><div class="line">      &#125;,</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: __dirname+<span class="string">'/src'</span>,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/26/我好像是病了/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/26/我好像是病了/" itemprop="url">
                  我好像是病了
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-26T16:40:06+08:00">
                2017-06-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>大概我已经这种状态半年有余了吧。哪种状态？我也说不清楚，大概就是废物应该有的状态，半年的时间里我好像什么都没做。</p>
<p>杨绛先生说，读书太少，想的太多。我觉得这句话用在我身上也许颇为合适，大概我真的是书读的太少，成天<br>活在自己脑海中的世界？</p>
<h1 id="我在做什么？"><a href="#我在做什么？" class="headerlink" title="我在做什么？"></a>我在做什么？</h1><p>我不止一次的问自己这个问题，我到底在做什么？对于一个废物来说，好像做什么都很碍眼。我将自己的qq设置成隐身，微信的消息也从来不回，生怕别人来问我关于工作和生活的事情。我无法回答他们这些问题。在别人眼里我是一个和他们一样的人，不去工作只是嫌弃工资太低什么的，所以对我这种怠惰的行为表示非常的不解并加以鄙视！其实我对生活的要求一点都不高，因该说是仅仅存有一份奢求。</p>
<p>不知不觉我已经玩了这么久的游戏了，我现在在做的事情应该就是玩游戏了吧，又或者偶尔看看书？</p>
<p>说起游戏来，我也是够失败的。不知为何我的心理很怪异，游戏这种事情对于大多数人来说应该就是放松心情的娱乐活动，可是对我而言却变了味了。一旦我开始做什么，我就开始患得患失，好胜心过分的强。以至于玩游戏都会非常的认真，非常的在意输赢。然而事后想想不过就是游戏罢了！所以当我决定要继续玩下去的时候，我就告诉自己一定要上到某个段位。想起来也是够好笑的，用了好久好久的时间，玩了很多很多局，终于达到了目标了。可是啊，上天是不会给废物好脸色的吧。在某一天，一页的连跪让我将近３个月的努力全部白费了。我哭了，哭得像个幼稚的小男孩一样！</p>
<p>那真是一个很漫长的深夜啊，感觉心脏被一块巨石压的碰碰直跳，耳内传来一阵一阵心跳声，我好像已经无法呼吸了。我没有哭出声，巨大的耻辱感涌上心头，我不能被别人嘲笑，如果别人知道我哭了，会嘲笑我因为一个游戏而哭，嘲笑我是个失败者。我内心极度的惶恐，为什么我已经失败到连一个游戏都玩不好了？半夜两点了，我卸载了游戏卸载了一切与游戏有关的任何东西。啊，一个不被承认的人，做着别人嗤之以鼻的事情，然后还做失败了？想到这里我不由得多了一丝恼怒，愤恨，很自己为什么不能像一个正常人一样过正常人的生活。我不知道是什么东西在阻止我像一个正常人靠拢，我好像就是做不到，对于社会的恐惧使我畏缩到了极点，以至于对于买房买车结婚生子这种正常人的生活感到极度的厌恶，毋宁说是一种憎恨。</p>
<h1 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h1><p>我对生活的厌恶大概是从我意识到自己是同性恋开始吧。在我对爱情不甚了解的时候，我大体上觉得我是和大家一样的。后来我才意识到，原来一个特殊的身份会让自己活的这么累。我不断的问自己我到底做错了什么？</p>
<p>虽然如今好像对同性恋这个话题已经不在避讳了，但是每当朋友谈起这些，我总会心生忌惮。我怕别人看穿我生存的把戏，看穿我和他们直接的不同。内心的自我不认同导致我越来越发的讨厌自己，也讨厌这个世界。我不知道是这个世界不够包容还是我内心太过狭隘，亦或二者皆有。内心有如此的想法不免显得有些自私，意识到这个问题后我反而越发的羞愧，是不是我太矫情了？可能是的，因为这个世界是没有人会注意到你的，过于渺小的我是不是太把自己当回事了！</p>
<p>后来我终于还是扛不住了，内心的纠结，压抑已经快让我抑郁了。我开始了自救，果然在求生面前，一切的面子，人情，以及羞愧可耻的东西都已经变得不重要了吗。我已经无法顾及那么多了，我知道人在极度负面的情况下是很危险的，很容易毁掉别人毁掉自己。我向父母说明了我是同性恋，用一个很奇怪的词汇应该叫做——出柜。</p>
<p>我都快忘了那天的场景了，已经是晚上９点过，平时的我应该已经在寝室玩电脑开始享受“寝室时间”了（老实说，我已经很久没有“享受”过了，心里一直不太平，哪有心思享受生活）。我走到寝室外面８教的草坪上，随便找了一块看起来草比较多的地方一屁股做下去，其实我也不想管地有多脏了。一心自救的我已经顾不了胸口的沉闷了。我听到了父母熟悉的声音，一切就和往常一样，父母的声音依然这么的柔和，对我一阵嘘寒问暖还不停的问我钱够用吗。这使我心里一阵羞愧，就和平常一样多好，我如果不说出那么久埋在心里的事情我们就可以继续这样，我们就可以相安无事的继续着生活，我是不是不该打破这种平静，话已经卡到我嗓子里了，我开始哽咽。父母早已从我话音中听出了消极，明白我可能遇到了什么困难。我妈不停问，“是啥子事吗，你说嘛，有啥子是不能解决的嘛，你说嘛，你不说我们咋个帮你嘛！你说啊！不要憋在心头，你难受我们会更难受，更心痛。没得啥子事是解决不了的”，同时也在不停的安慰我，我已经不知道他们怎么安慰我的了。我带着哭腔，嘶哑的说出了“我是同性恋啊”这句话，那是一种对自己否定的腔调，对一切都失望透顶的腔调，对生活失去了希望的腔调。父母沉默了片刻，然后告诉我这种是心理问题，心理不正常。我挂断了电话！</p>
<p>尽管事后不就他们继续安慰我，我也再也听不下去了。我不知道我这通电话对不对，反正那天以后我和父母的距离越来越远了，回家过后我除了吃饭也再也没有下过楼，离开过房间了。</p>
<p>所以为什么我要承受这些东西？又为什么我会把这些告诉父母？虽然这些事情他们有权利知道，可是我主动告诉他们，不也是为了减轻自己的压力？我将压力分担给了我的父母，我这样做真的对吗？我突然觉得自己是那么的自私，如果我不让父母知道这些，他们也不会心里那么痛苦还装作没事人一样来安慰我，也不会承受那么多痛苦。我不断的觉得自己对不起他们，可是又止不住内心的反感。他们的给我的安慰那么像缓兵之计，让我觉得非常的虚无缥缈，因为他们从来没有正面承认过我的身份，只是不停得表示来日方长，走一步看一步。面对父母，我一直游走与羞愧，抵触，反感之间，以致于我一点话都不想对他们讲，感觉说话很多余，我怕一说话就会揭开那层伤疤。</p>
<h1 id="胆小鬼"><a href="#胆小鬼" class="headerlink" title="胆小鬼"></a>胆小鬼</h1><p>太宰治说，‘胆小鬼甚至会惧怕幸福，碰到棉花也会受伤’。胆小鬼——或者说懦弱的人，是如何苟活于世而不至于被“幸福”绞杀呢？</p>
<p>除了逃避，恐怕没有任何伎俩了吧。我已经躲避这个世界很久了，躲着躲着就习惯了。甚至回想起初高中的时光，都发现自己可能是在躲着什么。埋头学习对我而言似乎是极好的，因为不用在乎其他事情，还可以得到父母的认可，并且可以在别人面前树立一种高冷学霸的形象，何乐而不为呢。如果我当时是一个活蹦乱跳的人，我现在该是什么样子呢？我现在的种种行为好像是在避免重蹈覆辙。我舍弃了太多对我好的人，我对他们抛来的橄榄枝不屑一顾，或者说是觉得橄榄枝太过于沉重，惧怕得不敢接受？多年之后他们都还能叫出我的名字，而我早就忘却一切了——我似乎有点狼心狗肺。但我真的是狼心狗肺之人？很多人和事我都一概忘掉了，这应该只是时间在作祟，我相信这是与我无关的。尽管我确实都把种种事情都归结为悲剧并妄图将其抹杀掉</p>
<p>不过胆小鬼也有勇敢的时候呢，这种勇敢应该无异于“狗急跳墙”，“走投无路”。我最勇敢的事情莫过于向自己喜欢的人表白了吧。“表白”这个词听起来真羞涩，像是青春的代表词汇。然而表白这件事情做起来可不是那么容易的。一个懦弱的人不到万不得已是不会触碰表白这种禁区的，但是人一旦有了感情这种东西，一切事情就都难以解释了。胆小鬼是不敢面对面表达感情的，写信，网络聊天这种才更符合胆小鬼的气质。我果然选择了后者。</p>
<p>那封信，或者说是一篇日志，是我当天凌晨3点过写的，那篇日志大概使我人生中所有的秘密了，如此的露骨，为世人所不齿。（果然在求生欲面前一切都变得不重要了吗。）当时的我脑子一片模糊，手脚不停的颤抖，可能是精疲力竭了。但是第二天早上我才将我的日志发出去，这几个小时我的心里在想什么可能只有鬼才知道。我应该已经做好了打算了，但我的这个行为太过于可怕，我无法预料到后果是怎么样的。我之所以能鼓起勇气大概还是由于求生欲吧，我不想就此消沉下去，不想让自己被心里的阴霾摧毁。虽然最后只得到了几句安慰的话，但至少聊胜于无啊。想想人生中做的最有勇气的事情除了出柜就当属表白了吧。仔细想象我果然是我正常人啊；我也有感情，也会鼓起勇气表白，只是我心里的那个人和大家不一样而已啊！但想到这里，心里莫名的惭愧，我如果不跟他表白，他就不用帮我保守秘密，我没有资格让人家保守秘密，也没有资格用这种方式去恳求几句安慰。</p>
<p>当天正午，我又写了一篇日志</p>
<blockquote>
<p>今天妈妈去看望外婆了，刚走不久，天就下起大雨来，天气预报说明天还是雨。先心疼一秒钟！<br>昨天发生了太多的事情，这些事情的发生让我自己都怕。我将4号写的那些东西，原封不动的给了母亲和他看。<br>我让妈一个人在楼上，面对着电脑看我写的东西。我不敢面对她，我不敢看到她哭的样子，我更怕自己会哭。良久，妈下楼的脚步声越来越清晰，我躺在床上，翻了个侧身。就这样，我背对着妈谈论了很久。我的内心已经极度敏感和脆弱，我不忍心看到父母伤心，可我更不可能为了满足父母的“传统”而改变我自己。我态度非常的坚决，我说，我不会结婚。妈质疑说，同性恋就不可以结婚？我真的怨他们对同性恋的不了解，我不想再说了。过了片刻，妈又说，我只希望你过的好就行，以后的事情谁知道呢，先好好儿的活就行了；我不管你是啥子，你总而言之要健健康康的。我无奈的说道，我可能没有办法让你们享受天伦之乐，享受到其他为人父母的幸福。她说，无所谓啊，只要人活的好，一辈子健健康康的，比什么都强，才会幸福。<br>……<br>我意识到自己已经做了这么一件冲动的事情了，那么，接下来，就是表白了<br>我给他看了我写的东西，我知道，我可能将会失去他，甚至我的世界将没有他的存在。可是，那本书说的好——幸福是等不到的！我的剧本是，他拒绝了我，说了一些冠冕堂皇的话，然后我觉得这个人虚伪，最后删掉这个人。而实际的剧本是，为什么我却很庆幸，很庆幸他一直安慰我；说我要好好的，走一步看一步，以后一定会遇到对的人；我居然愿意接受他的祝福！<br>昨天晚上，和他聊了好多好多，我还是会问到很多被拒绝是问的问题。可我都得到了最好的答案！<br>这就是他，一个让我有理由喜欢的他。<br>其实，我应该感激他，他不仅没有歧视我，没有选择冷漠和无视。我感激他选择了支持我，理解我，心疼我，尽管离我渴望的感情相差甚远。可这些，已经让我阴暗的心变得开始愿意接受阳光的洗礼。我仍然会把他放在心里很重要的位置，可是不是最重要的那个，已经不重要了。我爱他，所以他幸福了，我才能够放下我的爱，只是慢慢的这种爱会变得平静。</p>
</blockquote>
<p>我大概永远都不想和父母多说一句话了</p>
<h1 id="未来"><a href="#未来" class="headerlink" title="未来?"></a>未来?</h1><blockquote>
<p>吴双，这条短信我也不知道要不要发给你，我想了很久，决定还是发给你了。我不知道为什么，我就是觉得你这次你去香港回来就要搬走了，可能是因为我知道你是跟凯美瑞一块去的吧。我有一次在学校门口看见你从他的车下来，回到家后，我闻到你身上跟家里不一样的沐浴露味道，还有一次晚上打你电话你没接，我就去你实验室找你，你不在，我在校门口等你，又看到你从他车里下来，每次看到你从他车里下来，我心里都难受的跟要死了一样，可我也不敢多问你，我怕我一问，你一不高兴就搬走了。我一想到你搬走我就觉得这些都不重要了。我喜欢男人，这个我不否认，但因为老师这个特殊身份，我从来没找过男朋友，我不得不像一般人一样去结婚生子。其实我今年年初真打算今年结婚的，可偏偏又遇到了你，你每天跟我吵架打架，傻b来傻b去的，我就像回到我读体校那会的日子，在你跟前，我特别自然，特别轻松，做着我自己。说实话，遇到你之后，我也想过，我豁出去了，不做老师，不受这些束缚了，可能就能跟你在一起了。可我也就只能想想，我知道我没办法豁出去，我除了当老师教教体育，我其他的什么都不会，我的家庭你也多少了解一点，我必须负担我妈跟小妹的生活，我需要这个稳定的工作来保证她们的生活，所以我也只能认命，只能结婚生子，虽然我千万个不乐意。我也不怕你笑话，我做梦都想着跟一个男人生活在一起情景，从你搬来的第一天，我就有了美梦成真的感觉，每天跟你嬉皮笑脸的，看着蛮横不讲理的样子，我特别开心，特别满足。我把你带进校队，带你认识我同事，家人，朋友，我就是想让你像我男朋友一样融入我的生活。你问我为什么挑2007年结婚，我没找什么大师算过，我现在告诉你实话，因为2007年你就毕业了，你毕业就出国了，你出国了，我这个梦也就没了，那我也就没其他念想了，可以安安心心的去结婚，去过一般人的日子了。你还记得你问我小宝是谁吗？其实当你第一次叫我傻b的时候，我在心里就叫你小宝了。我喜欢你，但我知道我连问你喜不喜欢我的资格都没有，毕竟我连个男朋友的名分都给不了你，我也没资格要求你说什么做什么，但我还是想你从香港回来别搬走，让我继续把这个梦做下去，直到你毕业。小宝，别走，好吗？</p>
</blockquote>
<p>这是《从他们到我们》这本小说中的桥段,我看到这长长的短信总算是体会到什么是锥心之痛。是啊，感情这种事情本来就是这样啊，普普通通，简简单单但又刻骨铭心。看这部剧的时候评论里都是一阵唏嘘，我也跟着叹息不已。我们这群人已经到了需要用这种15分钟的短剧来寻找安慰的程度了吗？运超对双儿的感情是那么真，可是依然在现实面前低头，还是抛弃了吴双。他们在一起的时光难道不是和普通人一样，一样的认真对待，一样的会有喜怒哀乐吗。我好像还没有体会过这种感觉，难道我的未来也是这样？不，对于胆小鬼来说，这种“幸福”是永远不敢奢求的吧。因为怕受伤，所以都不敢勇敢的向短暂的幸福迈开一步！也许，感情这东西就是不在乎天长地久，只在乎曾经拥有吧；未来会怎样，谁能说得清，珍惜当下可能才是最明智的吧。双儿在结尾时的那淡淡的苦笑，却看哭了多少人。他的笑，证明他接受了这个世界的安排，接受了这短暂而又美好的爱情；他无法改变这些，只有祝福他爱的人。我也祝我喜欢的那个人幸福，如果能在他的婚礼上看到他幸福的笑容我也心满意足了。</p>
<p>所以我真的甘心这样吗？没有未来的未来根本不是我想要的未来啊！我的未来在哪儿呢？</p>
<p>昨日跟朋友聊起关于未来已经生活的话题。他问，<br>“你有想过以后做什么吗，有对未来的打算吗？”</p>
<p>“我从没有如此打算过，甚至没有想过以后的事情”</p>
<p>“那你为什么不去死，你活着有什么意义，真的，你真的可以去死了”</p>
<p>“如果我真的去死了，那你会背大锅哦”</p>
<p>我一阵苦笑，并不理会。我死了，那么我就认输了啊，我输给了自己，也输给了这个世界。</p>
<p>王宝强接受采访时说，“活着比什么都强”。这句话我一直认同，并深信不疑。《士兵突击》里也有一句话——好好活就是做有意义的事儿，有意义的事儿就是好好活。我应该没有好好活过吧，做的一切事情都是为了得到别人的承认，什么时候能够为自己而活。我过去十多二十年全是为了符合父母理想的样子而活着，如果我不是同性恋的话，也许我会像他们想象的那样活的像个正常人——追求自己的理想，不断的奋斗，并融入这个社会，成为社会的一份子吧。从小谨小慎微的做一个乖乖仔，似乎是腻烦了啊。我多么希望父母生气，大声的骂我，大声的骂我是一个不孝子，是一个狼心狗肺的人；他们对我无休止的原谅反而让我感到无所适从。</p>
<p>仔细想想，我写得这些东西一定会招致无休止的鄙视和唾弃吧！这么下贱卑微妄自菲薄，自私自利，自甘堕落的人有什么资格谈论未来，谈论理想呢！</p>
<p>可我还是抱有一丝的希望，我的“未来”在哪里呢？</p>
<h1 id="生活还在继续"><a href="#生活还在继续" class="headerlink" title="生活还在继续"></a>生活还在继续</h1><p>人应该是为自己而活的！我存在于这个世界，时间在单一的向前推动，我总有一天会变老，但正因为在这过程中的不确定性以及通过自己的选择改变未来的可能性让我对生存有了一些希望。如果我开始努力的克服我的问题，我也许会对“生活”二字有新的体会，尽管这个过程看起来是那么的痛苦。也许是我过分的失落或者消极才会导致我今天这个局面。如果我真的能承受那么多的压力，成长为一个有担当的人，那么我一定会变得更好吧。<br>我还是那个胆小鬼，在诸多重大的需要承担责任的问题上，我永远是在畏首畏尾。我真的甘心一直拿父母的钱啃老吗？尽管我和父母之间依然存在着微妙的隔阂，但是这并不代表我就有理由颓废下去，我的一切的想法都不过是如此的幼稚罢了。我现在还在反思子是否仅仅是拿着同性恋这个事实在要挟我的父母，给我的颓废找一个借口罢了。仔细想象，同性恋这个问题真的影响到我的生活了吗，我还这么年轻，这几年完全没有谈婚论嫁的烦恼啊！其实我是那么的自由，父母对我的态度已经是那么的宽容了，比起有些父母以死相逼的态度，我应该感激他们才对，至少他们给了我几年时间，让我过自己的生活，以后的事情以后再说。思来想去果然还是自己的原因，其实我就是一个普通人，一个正常人，一个活生生的人。生活还在继续，我要试着去面对了！</p>
<p>がんばって！！！</p>
<hr>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/27/react-native学习日记之TabNavigator/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/27/react-native学习日记之TabNavigator/" itemprop="url">
                  react-native学习日记之TabNavigator
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-27T13:11:59+08:00">
                2017-02-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>安卓中不能像IOS一样有NavigatorIOS和tabBarIOS，如果需要跨平台实现类似的功能，必须要借助第三方组件<br>如<a href="https://github.com/exponent/react-native-tab-navigator" target="_blank" rel="external">https://github.com/exponent/react-native-tab-navigator</a></p>
<p>安装：</p>
<p><code>npm install react-native-tab-navigator</code></p>
<p>使用：</p>
<p><code>import TabNavigator from &#39;react-native-tab-navigator&#39;</code></p>
<p>这个组件的使用方式类似于TabBarIOS，配合Navigator一起使用就可以到达跨平台的效果了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  AppRegistry,</div><div class="line">  StyleSheet,</div><div class="line">  Text,</div><div class="line">  View,</div><div class="line">  Image,</div><div class="line">  Navigator</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"><span class="keyword">import</span> TabNavigator <span class="keyword">from</span> <span class="string">'react-native-tab-navigator'</span>;</div><div class="line"><span class="keyword">import</span> HomeView <span class="keyword">from</span> <span class="string">'./Components/homeView.js'</span>;</div><div class="line"><span class="keyword">import</span> ProfileView <span class="keyword">from</span> <span class="string">'./Components/profileView.js'</span>;</div><div class="line"><span class="keyword">var</span> icons=[</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_1.png'</span>),</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_2.png'</span>),</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_3.png'</span>),</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_4.png'</span>)</div><div class="line">];</div><div class="line"><span class="keyword">var</span> pressIcons = [</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_1_press.png'</span>),</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_2_press.png'</span>),</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_3_press.png'</span>),</div><div class="line">  <span class="built_in">require</span>(<span class="string">'./imgs/tabbar_4_press.png'</span>)</div><div class="line">]</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">TabNavigatorDemo</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(props) &#123;</div><div class="line">    <span class="keyword">super</span>(props);</div><div class="line">    <span class="keyword">this</span>.state=&#123;</div><div class="line">      <span class="attr">selectedTab</span>:<span class="string">'home'</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">let</span> defaultName = <span class="string">'HomeView'</span>;</div><div class="line">    <span class="keyword">let</span> defaultComponent = HomeView;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;View style=&#123;&#123;flex:1&#125;&#125;&gt;</div><div class="line">        &lt;TabNavigator tabBarStyle=&#123;styles.tabBarStyle&#125;&gt;</div><div class="line">          &lt;TabNavigator.Item</div><div class="line">            selected=&#123;this.state.selectedTab === 'home'&#125;</div><div class="line">            title="Home"</div><div class="line">            renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;icons[0]&#125; /&gt;&#125;</div><div class="line">            renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;pressIcons[0]&#125; /&gt;&#125;</div><div class="line">            badgeText="1"</div><div class="line">            onPress=&#123;() =&gt; this.setState(&#123; selectedTab: 'home' &#125;)&#125;&gt;</div><div class="line">            &lt;Navigator</div><div class="line">              initialRoute=&#123;&#123;name:defaultName,component:defaultComponent&#125;&#125;</div><div class="line">              configureScene=&#123;(route)=&gt;&#123;</div><div class="line">                return Navigator.SceneConfigs.VerticalDownSwipeJump;</div><div class="line">              &#125;&#125;</div><div class="line">              renderScene=&#123;(route,navigator)=&gt;&#123;</div><div class="line">                // console.log(route,navigator);</div><div class="line">                let Component = route.component;</div><div class="line">                return &lt;Component &#123;...route.params&#125; navigator=&#123;navigator&#125; /&gt;</div><div class="line">              &#125;&#125;</div><div class="line">              navigationBar=&#123;</div><div class="line">                &lt;Navigator.NavigationBar</div><div class="line">                  routeMapper=&#123;&#123;</div><div class="line">                    LeftButton: (route,navigator,index,navState)=&gt;&#123;</div><div class="line">                      return (&lt;Text&gt;前进&lt;/Text&gt;);</div><div class="line">                    &#125;,</div><div class="line">                    Title: (route,navigator,index,navState)=&gt;&#123;</div><div class="line">                      return (&lt;Text&gt;首页&lt;/Text&gt;);</div><div class="line">                    &#125;,</div><div class="line">                    RightButton: (route, navigator, index, navState) =&gt; &#123;&#125;,</div><div class="line">                  &#125;&#125;</div><div class="line">                  /&gt;</div><div class="line">              &#125;</div><div class="line">              /&gt;</div><div class="line">          &lt;/TabNavigator.Item&gt;</div><div class="line">          &lt;TabNavigator.Item</div><div class="line">            selected=&#123;this.state.selectedTab === 'profile'&#125;</div><div class="line">            title="Profile"</div><div class="line">            renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;icons[1]&#125; /&gt;&#125;</div><div class="line">            renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;pressIcons[1]&#125; /&gt;&#125;</div><div class="line">            // renderBadge=&#123;() =&gt; &lt;CustomBadgeView /&gt;&#125;</div><div class="line">            onPress=&#123;() =&gt; this.setState(&#123; selectedTab: 'profile' &#125;)&#125;&gt;</div><div class="line">            &lt;ProfileView/&gt;</div><div class="line">          &lt;/TabNavigator.Item&gt;</div><div class="line">          &lt;TabNavigator.Item</div><div class="line">            selected=&#123;this.state.selectedTab === 'favor'&#125;</div><div class="line">            title="favor"</div><div class="line">            renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;icons[2]&#125; /&gt;&#125;</div><div class="line">            renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;pressIcons[2]&#125; /&gt;&#125;</div><div class="line">            // renderBadge=&#123;() =&gt; &lt;CustomBadgeView /&gt;&#125;</div><div class="line">            onPress=&#123;() =&gt; this.setState(&#123; selectedTab: 'favor' &#125;)&#125;&gt;</div><div class="line">            &lt;ProfileView/&gt;</div><div class="line">          &lt;/TabNavigator.Item&gt;</div><div class="line">          &lt;TabNavigator.Item</div><div class="line">            selected=&#123;this.state.selectedTab === 'me'&#125;</div><div class="line">            title="me"</div><div class="line">            renderIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;icons[3]&#125; /&gt;&#125;</div><div class="line">            renderSelectedIcon=&#123;() =&gt; &lt;Image style=&#123;styles.iconStyle&#125; source=&#123;pressIcons[3]&#125; /&gt;&#125;</div><div class="line">            // renderBadge=&#123;() =&gt; &lt;CustomBadgeView /&gt;&#125;</div><div class="line">            onPress=&#123;() =&gt; this.setState(&#123; selectedTab: 'me' &#125;)&#125;&gt;</div><div class="line">            &lt;ProfileView/&gt;</div><div class="line">          &lt;/TabNavigator.Item&gt;</div><div class="line">        &lt;/TabNavigator&gt;</div><div class="line">      &lt;/View&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const styles = StyleSheet.create(&#123;</div><div class="line">  tabBarStyle: &#123;</div><div class="line">    // backgroundColor:'red'</div><div class="line">  &#125;,</div><div class="line">  iconStyle: &#123;</div><div class="line">    width:20,</div><div class="line">    height:20</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">AppRegistry.registerComponent('TabNavigatorDemo', () =&gt; TabNavigatorDemo);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/22/react-native学习日记之tabBar/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/22/react-native学习日记之tabBar/" itemprop="url">
                  react-native学习日记之tabBar
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-22T11:44:59+08:00">
                2017-02-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>IOS 上可以使用tabBarIOS组件实现底栏tabBar，但是安卓不行。不过可以借助第三方组件实现类似的功能<br><a href="https://github.com/react-native-community/react-native-tab-view" target="_blank" rel="external">react-native-tab-view</a></p>
<p>基本用法如下<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  AppRegistry,</div><div class="line">  StyleSheet,</div><div class="line">  Text,</div><div class="line">  View</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"><span class="keyword">import</span> &#123;TabViewAnimated,TabBar&#125; <span class="keyword">from</span> <span class="string">'react-native-tab-view'</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">tabView</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  state = &#123;</div><div class="line">    <span class="attr">index</span>: <span class="number">0</span>,</div><div class="line">    <span class="attr">routes</span>: [</div><div class="line">      &#123; <span class="attr">key</span>: <span class="string">'1'</span>, <span class="attr">title</span>: <span class="string">'First'</span> &#125;,</div><div class="line">      &#123; <span class="attr">key</span>: <span class="string">'2'</span>, <span class="attr">title</span>: <span class="string">'Second'</span> &#125;,</div><div class="line">    ],</div><div class="line">  &#125;;</div><div class="line">  _handleChangeTab = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;index&#125;);</div><div class="line">  &#125;;</div><div class="line">  _renderHeader = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(TabBar);</div><div class="line">    <span class="keyword">return</span> &lt;TabBar &#123;...props&#125; style=&#123;styles.tabBar&#125;/&gt;</div><div class="line">  &#125;;</div><div class="line">  _renderFooter = (props) =&gt; &#123;</div><div class="line">    console.log(TabBar);</div><div class="line">    return &lt;TabBar &#123;...props&#125; style=&#123;styles.tabBar&#125; indicatorStyle=&#123;&#123;backgroundColor:'transparent'&#125;&#125;/&gt;</div><div class="line">  &#125;;</div><div class="line">  _renderScene = (&#123;route&#125;) =&gt; &#123;</div><div class="line">    switch (route.key) &#123;</div><div class="line">      case '1':</div><div class="line">        return &lt;View style=&#123;[styles.page,&#123;backgroundColor:'#ff4081'&#125;]&#125;&gt;</div><div class="line">                  &lt;Text&gt;</div><div class="line">                    第一页</div><div class="line">                  &lt;/Text&gt;</div><div class="line">               &lt;/View&gt;</div><div class="line">      case "2":</div><div class="line">        return &lt;View style=&#123;[styles.page,&#123;backgroundColor:'#673ab7'&#125;]&#125;&gt;</div><div class="line">                  &lt;Text&gt;</div><div class="line">                    第二页</div><div class="line">                  &lt;/Text&gt;</div><div class="line">               &lt;/View&gt;</div><div class="line">      default:</div><div class="line">        return null;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">  render() &#123;</div><div class="line">    return (</div><div class="line">      &lt;TabViewAnimated</div><div class="line">        style=&#123;styles.container&#125;</div><div class="line">        navigationState=&#123;this.state&#125;</div><div class="line">        renderScene=&#123;this._renderScene&#125;</div><div class="line">        renderHeader=&#123;this._renderHeader&#125;</div><div class="line">        // renderFooter=&#123;this._renderFooter&#125;</div><div class="line">        onRequestChangeTab=&#123;this._handleChangeTab&#125;</div><div class="line">        /&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const styles = StyleSheet.create(&#123;</div><div class="line">  container: &#123;</div><div class="line">    flex: 1,</div><div class="line">  &#125;,</div><div class="line">  page: &#123;</div><div class="line">    flex: 1,</div><div class="line">    alignItems: 'center',</div><div class="line">    justifyContent: 'center',</div><div class="line">  &#125;,</div><div class="line">&#125;);</div><div class="line"></div><div class="line">AppRegistry.registerComponent('tabView', () =&gt; tabView);</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/19/atom-package清单/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/19/atom-package清单/" itemprop="url">
                  atom package清单
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-19T15:35:16+08:00">
                2017-02-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>做个备份<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">Community Packages (32) /home/johnny/.atom/packages</div><div class="line">├── atom-material-syntax@1.0.2</div><div class="line">├── atom-material-ui@1.3.9</div><div class="line">├── atom-react-native-autocomplete@0.0.27</div><div class="line">├── atom-react-native-css@1.1.3</div><div class="line">├── atom-ternjs@0.17.0</div><div class="line">├── autoclose-html@0.23.0</div><div class="line">├── autocomplete-modules@1.6.7</div><div class="line">├── autocomplete-paths@1.0.5</div><div class="line">├── autoprefixer@3.6.1</div><div class="line">├── color-picker@2.2.5</div><div class="line">├── emmet@2.4.3</div><div class="line">├── file-icons@2.0.15</div><div class="line">├── fold-functions@0.5.0</div><div class="line">├── highlight-selected@0.12.0</div><div class="line">├── jquery-snippets@11.0.0</div><div class="line">├── language-babel@2.54.1</div><div class="line">├── language-javascript-jsx@0.3.7</div><div class="line">├── linter@1.11.21</div><div class="line">├── linter-csslint@1.3.3</div><div class="line">├── linter-htmlhint@1.3.1</div><div class="line">├── linter-js-standard-jsx@4.1.2</div><div class="line">├── linter-jshint@3.0.2</div><div class="line">├── markdown-preview-plus@2.4.1</div><div class="line">├── markdown-scroll-sync@2.1.2</div><div class="line">├── markdown-table-formatter@2.8.4</div><div class="line">├── minimap@4.26.8</div><div class="line">├── minimap-highlight-selected@4.5.0</div><div class="line">├── nuclide@0.205.0</div><div class="line">├── pigments@0.39.0</div><div class="line">├── react@0.16.2</div><div class="line">├── react-es6-snippets@0.3.0</div><div class="line">└── run-in-browser@0.1.3</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/19/react-native学习日记之ListView三/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/19/react-native学习日记之ListView三/" itemprop="url">
                  react-native学习日记之ListView三
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-19T14:42:05+08:00">
                2017-02-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>ListView with SectionHeader<br>要实现拥有section header 的ListView，需要dataBlob数据结构和renderSectionHeader 属性</p>
<h1 id="dataBlob"><a href="#dataBlob" class="headerlink" title="dataBlob"></a>dataBlob</h1><p>dataBlob是一个数据结构（通常是一个对象），包含了渲染ListView的所有数据。其中包括Section Header 数据和每个行Row的行数据Row Data。要获得dataBlob中的数据，首先要实现遍历方法(getSectionData 和 getRowData)</p>
<ul>
<li><p>dataBlob结构：<br><img src="http://7xoilf.com1.z0.glb.clouddn.com/image002.png" alt=""></p>
</li>
<li><p>实现getSectionData 和 getRowData</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">constructor</span>(props) &#123;</div><div class="line">  <span class="keyword">super</span>(props);</div><div class="line">  <span class="keyword">var</span> getSectionData = <span class="function">(<span class="params">dataBlob,sectionID</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> dataBlob[sectionID];</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> getRowData = <span class="function">(<span class="params">dataBlob,sectionID,rowID</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> dataBlob[sectionID+<span class="string">':'</span>+rowID];</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">this</span>.state = &#123;</div><div class="line">    <span class="attr">dataSource</span>: <span class="keyword">new</span> ListView.DataSource(&#123;</div><div class="line">      <span class="attr">getSectionData</span>:getSectionData,</div><div class="line">      <span class="attr">getRowData</span>:getRowData,</div><div class="line">      <span class="attr">rowHasChanged</span>: <span class="function">(<span class="params">r1,r2</span>)=&gt;</span>r1!==r2,</div><div class="line">      <span class="attr">sectionHeaderHasChanged</span>:<span class="function">(<span class="params">s1,s2</span>)=&gt;</span>s1!==s2</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="处理外部json数据，生成dataBlob"><a href="#处理外部json数据，生成dataBlob" class="headerlink" title="处理外部json数据，生成dataBlob"></a>处理外部json数据，生成dataBlob</h1><p>json数据如下<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"data"</span>: [</div><div class="line">    &#123;</div><div class="line">      <span class="attr">"images"</span>: [</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"a"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"路飞"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"b"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"阿里"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"c"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"。。。"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"d"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"风景"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"e"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"女神(づ￣ 3￣)づ"</span></div><div class="line">        &#125;</div><div class="line">      ],</div><div class="line">      <span class="attr">"title"</span>: <span class="string">"B"</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      <span class="attr">"images"</span>: [</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"a"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"路飞"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"b"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"阿里"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"c"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"。。。"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"d"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"风景"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"icon"</span>: <span class="string">"e"</span>,</div><div class="line">          <span class="attr">"name"</span>: <span class="string">"女神(づ￣ 3￣)づ"</span></div><div class="line">        &#125;</div><div class="line">      ],</div><div class="line">      <span class="attr">"title"</span>: <span class="string">"B"</span></div><div class="line">    &#125;,</div><div class="line">    ...</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">loadDataFromJson() &#123;</div><div class="line">  <span class="keyword">var</span> data = <span class="built_in">require</span>(<span class="string">'./data.json'</span>).data;</div><div class="line">  <span class="built_in">console</span>.log(data);</div><div class="line">  <span class="keyword">var</span> dataBlob   = &#123;&#125;,</div><div class="line">      sectionIDs = []; <span class="comment">//存放组ID的数组</span></div><div class="line">      rowIDs     = []; <span class="comment">//存放行ID的数组</span></div><div class="line">      rows       = []; <span class="comment">//存放行数据数组</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,l=data.length;i&lt;l;i++) &#123;</div><div class="line">    <span class="comment">// 1.把section id 放入sectionID数组中</span></div><div class="line">    <span class="keyword">var</span> sectionID = i;</div><div class="line">    <span class="comment">// sectionIDs.push(sectionID);</span></div><div class="line">    sectionIDs.push(i); <span class="comment">//sectionID 不一定必须是i：0,1,2,3...</span></div><div class="line">    <span class="comment">// 2. 把组中内容放入dataBlob中</span></div><div class="line">    <span class="comment">// 相当于dataBlob[SectionID]=data[i].title</span></div><div class="line">    dataBlob[i]=data[i].title;</div><div class="line">    <span class="comment">// 3. 取出该数组中所有的行数据</span></div><div class="line">    rows = data[i].images;</div><div class="line">    <span class="comment">// 4. 记录每一行中的数据</span></div><div class="line">    rowIDs[i]=[];</div><div class="line">    <span class="comment">// 5. 获取行中每一组数据</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>,lr=rows.length;j&lt;lr;j++)&#123;</div><div class="line">      <span class="comment">// 把行号放入rowIDs中</span></div><div class="line">      rowIDs[i].push(j);</div><div class="line">      <span class="comment">// 把每一行中的内容放如dataBlob对象中</span></div><div class="line">      dataBlob[i+<span class="string">':'</span>+j] = rows[j];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(dataBlob,sectionIDs,rowIDs);</div><div class="line">  <span class="keyword">this</span>.setState(&#123;</div><div class="line">    <span class="attr">dataSource</span>: <span class="keyword">this</span>.state.dataSource.cloneWithRowsAndSections(dataBlob,sectionIDs,rowIDs)</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以看到将dataBlob，sectionIDs，rowIDs打印出来是如下结果<br><img src="http://7xoilf.com1.z0.glb.clouddn.com/dataBlob-console-result" alt=""></p>
<h1 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h1>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/19/react-native学习日记之ListView三/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/17/ubuntu配置/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/17/ubuntu配置/" itemprop="url">
                  ubuntu 14.04配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-17T23:05:15+08:00">
                2017-02-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>最近又尝试从Windows 切换到 ubuntu 。经过很多次折腾，发现自己对linux 有了一定的理解过后再去<br>接触这些，已经不再那么陌生和“恐惧”了</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><a href="http://www.jianshu.com/p/2eebd6ad284d">Windows 10 和 ubuntu 共存安装参考</a></p>
<h1 id="切换显卡"><a href="#切换显卡" class="headerlink" title="切换显卡"></a>切换显卡</h1><p>系统设置–&gt; 软件和更行 –&gt; 附加驱动（据说开源驱动性能虽然不强，但是稳定性好，我还是继续用开源驱动吧）</p>
<h1 id="换主题"><a href="#换主题" class="headerlink" title="换主题"></a>换主题</h1><p>unity乳齿便秘的默认主题真的让我第一次开机看到它过后就想换掉！ubuntu14.04的主题很多不是扁平化的，如果电脑支持的话还是安装16.04比较好（该死的联想z485）</p>
<p>首先安装unity-tweak-tool<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt install unity-tweak-tool</div></pre></td></tr></table></figure></p>
<p>然后推荐去<a href="http://www.noobslab.com/p/themes-icons.html">noobSlab</a>，这个网站有很多个主题可以选择，安装方式也写出来了，配合unity-tweak-tool使用。个人喜欢Numix主题</p>
<h1 id="安装搜狗输入法"><a href="#安装搜狗输入法" class="headerlink" title="安装搜狗输入法"></a>安装搜狗输入法</h1><p>去搜狗官网下载linux 版本搜狗，然后双击安装，完毕后。<br><br>系统设置–&gt;语言支持–&gt;键盘输入方式系统：fcitx–&gt;重启</p>
<p>如果发现安装好后不能调出输入法面板，输入时只能看不到候选词，那么可以检查一下依赖sudo apt-get install -f</p>
<p>如果使用一段时间过后搜狗输入法一直崩溃,可能是配置文件出问题了，可以选择删除配置文件，然后重启fctix<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">killall fctix</div><div class="line">rm -rf ~/.config/sogou-qimpanel</div><div class="line">rm -rf ~/.config/SogouPY.users</div><div class="line">rm -rf ~/.config/SogouPY</div><div class="line">fctix</div></pre></td></tr></table></figure></p>
<h1 id="安装cairo-dock"><a href="#安装cairo-dock" class="headerlink" title="安装cairo-dock"></a>安装cairo-dock</h1><p>很实用的小工具（模拟mac的dock栏）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo add-apt-repository ppa:cairo-dock-team/ppa</div><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install cairo-dock</div><div class="line"><span class="comment"># 启动命令 cairo-dock</span></div></pre></td></tr></table></figure></p>
<p>第一次打开会提示是否开启OpenGl，我的电脑上面测试开启过后会出问题，我选择不开启，如果以后想开启，可以使用cairo-dock -c（不开启） / cario-dock -o（开启OpenGl）切换</p>
<h1 id="安装shadowsocks-qt5"><a href="#安装shadowsocks-qt5" class="headerlink" title="安装shadowsocks-qt5"></a>安装shadowsocks-qt5</h1><p>“纸飞机”这个东西还是必须要有的啊，没有这个东西感觉整个人都不好了<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo add-apt-repository ppa:hzwhuang/ss-qt5</div><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install shadowsocks-qt5</div><div class="line"><span class="comment">#启动命令 ss-qt5</span></div></pre></td></tr></table></figure></p>
<h1 id="安装proxychain4"><a href="#安装proxychain4" class="headerlink" title="安装proxychain4"></a>安装proxychain4</h1><p>ss-qt5 是桌面级应用，尽管连上代理，命令行还是无法通过代理上网。proxychain 可以完美解决命令行不能使用代理的问题<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/rofl0r/proxychains-ng.git</div><div class="line"><span class="built_in">cd</span> proxychains-ng</div><div class="line">./configure</div><div class="line">(sudo) make &amp;&amp; make instal</div></pre></td></tr></table></figure></p>
<p>安装完毕后，需要手动新建配置文件<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/proxychains.conf</div><div class="line"></div><div class="line"><span class="comment">#然后填入以下内容</span></div><div class="line">[ProxyList]</div><div class="line">socks5  127.0.0.1 1080</div></pre></td></tr></table></figure></p>
<p>使用方法<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">proxychains (sudo) 需要执行的命令 ...</div></pre></td></tr></table></figure></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/17/ubuntu配置/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/08/react学习日记之ListView二/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/react学习日记之ListView二/" itemprop="url">
                  react-native学习日记之ListView二
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T13:35:04+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="用listView实现九宫格效果"><a href="#用listView实现九宫格效果" class="headerlink" title="用listView实现九宫格效果"></a>用listView实现九宫格效果</h1><p>这次时照着es6的写法写的，es6和es5的写法有很多地方不一样<br><img src="http://7xoilf.com1.z0.glb.clouddn.com/Screenshot_2017-02-08-19-16-32-198_com.listviewjiugongge.png" alt="效果图"><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  AppRegistry,</div><div class="line">  StyleSheet,</div><div class="line">  Text,</div><div class="line">  View,</div><div class="line">  ListView,</div><div class="line">  TouchableOpacity,</div><div class="line">  Image</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</div><div class="line"><span class="keyword">import</span> Dimensions <span class="keyword">from</span> <span class="string">'Dimensions'</span>;</div><div class="line"><span class="keyword">const</span> listData = [</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'a'</span>, <span class="attr">desc</span>:<span class="string">'第一张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'b'</span>, <span class="attr">desc</span>:<span class="string">'第二张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'c'</span>, <span class="attr">desc</span>:<span class="string">'第三张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'d'</span>, <span class="attr">desc</span>:<span class="string">'第四张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'e'</span>, <span class="attr">desc</span>:<span class="string">'第五张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'b'</span>, <span class="attr">desc</span>:<span class="string">'第二张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'c'</span>, <span class="attr">desc</span>:<span class="string">'第三张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'d'</span>, <span class="attr">desc</span>:<span class="string">'第四张'</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">src</span>:<span class="string">'e'</span>, <span class="attr">desc</span>:<span class="string">'第五张'</span></div><div class="line">  &#125;</div><div class="line">];</div><div class="line"><span class="comment">// 获取屏幕宽高</span></div><div class="line"><span class="keyword">var</span> &#123;width,height&#125; = Dimensions.get(<span class="string">'window'</span>);</div><div class="line"><span class="keyword">var</span> cols = <span class="number">3</span>; <span class="comment">//3列</span></div><div class="line"><span class="keyword">var</span> cellWidth = <span class="number">100</span>,cellHeight = <span class="number">100</span>;</div><div class="line"><span class="keyword">var</span> vMargin = (width-cols*cellWidth)/(cols+<span class="number">1</span>); <span class="comment">//九宫格横向margin算法</span></div><div class="line"><span class="keyword">var</span> hMargin = <span class="number">20</span>; <span class="comment">//九宫格纵向margin</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ListViewjiugongge</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(props) &#123;</div><div class="line">    <span class="keyword">super</span>(props);</div><div class="line">    <span class="keyword">const</span> ds = <span class="keyword">new</span> ListView.DataSource(&#123;<span class="attr">rowHasChanged</span>:<span class="function">(<span class="params">r1,r2</span>)=&gt;</span>r1!==r2&#125;);</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">dataSource</span>: ds.cloneWithRows(listData)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;ListView</div><div class="line">        dataSource=&#123;this.state.dataSource&#125;</div><div class="line">        renderRow=&#123;this.renderRow&#125;</div><div class="line">        // renderSeparator=&#123;(sectionID,rowID,adjacentRowHighlighted)=&gt;&#123;</div><div class="line">        //   console.log(sectionID,rowID,adjacentRowHighlighted);</div><div class="line">        //   return(</div><div class="line">        //     &lt;View key=&#123;`$&#123;sectionID&#125;-$&#123;rowID&#125;`&#125;</div><div class="line">        //       style=&#123;&#123;height:90,width:1,backgroundColor:adjacentRowHighlighted?'blue':'red'&#125;&#125;</div><div class="line">        //       &gt;&lt;/View&gt;</div><div class="line">        //   )</div><div class="line">        // &#125;&#125;</div><div class="line">        contentContainerStyle=&#123;styles.listViewStyle&#125;</div><div class="line">        /&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">  renderRow(owData,sectionID,rowID,highlightRow) &#123;</div><div class="line">    return(</div><div class="line">      &lt;TouchableOpacity activeOpacity=&#123;0.5&#125; onPress=&#123;()=&gt;&#123;highlightRow(sectionID,rowID)&#125;&#125;&gt;</div><div class="line">        &lt;View style=&#123;styles.cellViewStyle&#125;&gt;</div><div class="line">          &#123;/*图片src*/&#125;</div><div class="line">          &lt;Image source=&#123;&#123;uri:owData.src&#125;&#125; style=&#123;&#123;width:100,height:100,borderRadius:50&#125;&#125;/&gt;</div><div class="line">        &lt;/View&gt;</div><div class="line">      &lt;/TouchableOpacity&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const styles = StyleSheet.create(&#123;</div><div class="line">  listViewStyle: &#123;</div><div class="line">    flexDirection:'row',</div><div class="line">    flexWrap:'wrap',</div><div class="line">    alignItems:'flex-start'</div><div class="line">  &#125;,</div><div class="line">  cellViewStyle: &#123;</div><div class="line">    marginLeft:vMargin,</div><div class="line">    marginTop: hMargin</div><div class="line">  &#125;,</div><div class="line">  descStyle: &#123;</div><div class="line">    // flexDirection:'row',</div><div class="line">    // alignItems:'center'</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">AppRegistry.registerComponent('ListViewjiugongge', () =&gt; ListViewjiugongge);</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/08/react学习日记之ListView/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Johnny Lin">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="爱凉拌菜真是太好了">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="爱凉拌菜真是太好了" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/react学习日记之ListView/" itemprop="url">
                  react-native学习日记之ListView
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T13:35:04+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><a href="https://facebook.github.io/react-native/docs/listview.html">react-native ListView DOC</a></p>
<h3 id="ListView-基本用法"><a href="#ListView-基本用法" class="headerlink" title="ListView 基本用法"></a>ListView 基本用法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//es5 写法</span></div><div class="line"><span class="keyword">var</span> ListViewDemo = React.createClass(&#123;</div><div class="line">  getInitialState() &#123;</div><div class="line">    <span class="comment">// 设置初始值</span></div><div class="line">    <span class="comment">// 1.1 设置数据源</span></div><div class="line">    <span class="keyword">var</span> ds = <span class="keyword">new</span> ListView.DataSource(&#123;<span class="attr">rowHasChanged</span>:<span class="function">(<span class="params">r1,r2</span>)=&gt;</span>r1!==r2&#125;);</div><div class="line">    <span class="comment">// 1.2 设置返回数据</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="comment">//listData 为一个数组格式</span></div><div class="line">      dataSource: ds.cloneWithRows(listData)</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// 设置render函数</span></div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;ListView dataSource=&#123;this.state.dataSource&#125;</div><div class="line">        renderRow=&#123;this.renderListView&#125;</div><div class="line">        //this.renderListView后不加括号表示默认接受所有参数（owData，sectionID...)</div><div class="line">        /&gt;</div><div class="line">    );</div><div class="line">  &#125;,</div><div class="line">  renderListView(owData, sectionID, rowID, highlightRow) &#123;</div><div class="line">    //renderRow 回调函数</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//es6 写法</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="keyword">const</span> ds = <span class="keyword">new</span> ListView.DataSource(&#123;<span class="attr">rowHasChanged</span>: <span class="function">(<span class="params">r1, r2</span>) =&gt;</span> r1 !== r2&#125;);</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">dataSource</span>: ds.cloneWithRows(listData),</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;ListView</div><div class="line">        dataSource=&#123;this.state.dataSource&#125;</div><div class="line">        renderRow=&#123;this.renderListView&#125;</div><div class="line">      /&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/02/08/react学习日记之ListView/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Johnny Lin" />
          <p class="site-author-name" itemprop="name">Johnny Lin</p>
          <p class="site-description motion-element" itemprop="description">爱凉拌菜真是太好了的博客</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Johnny Lin</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


</body>
</html>
